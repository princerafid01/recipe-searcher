{"version":3,"sources":["scripts.js"],"names":["baseEndpoint","proxy","formEl","document","querySelector","recipeEl","ingredientEl","allIngredients","searchIngre","fetchRecipes","query","response","fetch","data","json","displayRecipes","recipes","html","map","recipe","title","ingredients","thumbnail","href","innerHTML","join","handleSubmit","event","preventDefault","form","currentTarget","fetchAndDisplay","value","length","submit","disabled","results","singleIngre","querySelectorAll","forEach","ingre","addEventListener","e","checked","includes","push","filter","ingree","console","log","ingredient","insertAdjacentHTML"],"mappings":"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","file":"scripts.b71a6038.js","sourceRoot":"..","sourcesContent":["// const baseEndpoint = 'http://www.recipepuppy.com/api';\n// const proxy = `https://cors-anywhere.herokuapp.com/`;\n// const form = document.querySelector('form.search');\n// const recipesGrid = document.querySelector('.recipes');\n\n// async function fetchRecipes(query) {\n//   const res = await fetch(`${proxy}${baseEndpoint}?q=${query}`);\n//   const data = await res.json();\n//   return data;\n// }\n\n// async function handleSubmit(event) {\n//   event.preventDefault();\n//   const el = event.currentTarget;\n//   console.log(form.query.value);\n//   fetchAndDisplay(form.query.value);\n// }\n\n// async function fetchAndDisplay(query) {\n//   // turn the form off\n//   form.submit.disabled = true;\n//   // submit the search\n//   const recipes = await fetchRecipes(query);\n//   console.log(recipes);\n//   form.submit.disabled = false;\n//   displayRecipes(recipes.results);\n// }\n\n// function displayRecipes(recipes) {\n//   console.log('Creating HTML');\n//   const html = recipes.map(\n//     recipe => `<div class=\"recipe\">\n//       <h2>${recipe.title}</h2>\n//       <p>${recipe.ingredients}</p>\n//       ${recipe.thumbnail &&\n//         `<img src=\"${recipe.thumbnail}\" alt=\"${recipe.title}\"/>`}\n//       <a href=\"${recipe.href}\">View Recipe â†’</a>\n//     </div>`\n//   );\n//   recipesGrid.innerHTML = html.join('');\n// }\n\n// form.addEventListener('submit', handleSubmit);\n// // on page load run it with pizza\n// fetchAndDisplay('pizza');\nconst baseEndpoint = 'http://www.recipepuppy.com/api';\nconst proxy = 'https://cors-anywhere.herokuapp.com';\nconst formEl = document.querySelector('form.search');\nconst recipeEl = document.querySelector('.recipes');\nconst ingredientEl = document.querySelector('.ingredients');\nconst allIngredients = ['onions', 'garlic', 'omelet'];\nlet searchIngre = [];\n\nasync function fetchRecipes(query) {\n  const response = await fetch(`${proxy}/${baseEndpoint}/?q=${query}`);\n  const data = await response.json();\n  return data;\n}\nfunction displayRecipes(recipes) {\n  const html = recipes.map(\n    recipe => `<div class='recipe'>\n    <h2> ${recipe.title}</h2>\n    <p>${recipe.ingredients}</p>\n    ${recipe.thumbnail && `<img src=${recipe.thumbnail} alt=${recipe.title}>`}\n    <a href=\"${recipe.href}\" target=\"_blank\"> View Recipe </a>\n    </div>\n    `\n  );\n  recipeEl.innerHTML = html.join('');\n}\n\nasync function handleSubmit(event) {\n  event.preventDefault();\n  const form = event.currentTarget;\n  fetchAndDisplay(form.query.value);\n}\n\nasync function fetchAndDisplay(query) {\n  if (searchIngre.length > 0) {\n    query += `&i=${searchIngre.join(',')}`;\n  }\n  formEl.submit.disabled = true;\n  const recipes = await fetchRecipes(query);\n  formEl.submit.disabled = false;\n  displayRecipes(recipes.results);\n\n  const singleIngre = document.querySelectorAll('.singleIngre');\n  singleIngre.forEach(ingre => {\n    ingre.addEventListener('change', e => {\n      if (\n        e.currentTarget.checked &&\n        !searchIngre.includes(e.currentTarget.value)\n      ) {\n        searchIngre.push(e.currentTarget.value);\n      }\n      if (!e.currentTarget.checked) {\n        searchIngre = searchIngre.filter(\n          ingree => ingree !== e.currentTarget.value\n        );\n      }\n      console.log(searchIngre);\n    });\n  });\n}\n\nformEl.addEventListener('submit', handleSubmit);\nfetchAndDisplay('pizza');\nallIngredients.forEach(ingredient => {\n  ingredientEl.insertAdjacentHTML(\n    'afterbegin',\n    `\n<li> <input type=\"checkbox\" value=\"${ingredient}\" name=\"singleIngre[]\" class=\"singleIngre\"> ${ingredient}</li>\n`\n  );\n});\n"]}